Customer Segmentation & CLV Prediction Project

This is a complete, portfolio-ready project demonstrating customer segmentation (RFM), lifetime value (CLV) prediction, and dashboarding. The goal is to analyze customer transaction data to derive actionable business insights and enable a data-driven marketing strategy.

1. Business Problem

An e-commerce company is currently using a one-size-fits-all marketing strategy, leading to inefficient spend and missed retention opportunities. The business wants to:

Identify and understand different customer segments (e.g., high-value, at-risk).

Predict the future lifetime value of customers to optimize marketing spend.

Develop actionable, targeted marketing campaigns for each segment.

Reduce marketing costs by not targeting churned or low-value customers.

2. Tech Stack

Data Analysis & ML: Python, Pandas, NumPy, Scikit-learn, XGBoost, Joblib

Data Visualization: Matplotlib, Seaborn, Plotly

Dashboard: Streamlit

Notebook: JupyterLab

3. Project Structure

project/
├── app/
│   └── streamlit_app.py        # The interactive Streamlit dashboard
├── data/
│   └── Online Retail.xlsx      # The raw dataset (must be downloaded)
├── notebooks/
│   └── customer_segmentation_analysis.ipynb  # Main notebook with all analysis
├── outputs/
│   ├── figures/                # (Generated by notebook)
│   └── models/
│       ├── clv_model.pkl       # (Generated by notebook) Pre-trained XGBoost model
│       └── scaler.pkl          # (Generated by notebook) Pre-trained StandardScaler
├── .gitignore
├── Business_Report.md        # Stakeholder-facing report with insights
├── README.md                   # This file
└── requirements.txt            # Python dependencies


4. How to Run This Project

Step 1: Clone and Set Up Environment

# Clone the repository


# Create and activate a virtual environment
python3 -m venv venv
source venv/bin/activate

# Install the required packages
pip install -r requirements.txt


Step 2: Get the Data

Download the "Online Retail" dataset from the UCI Machine Learning Repository:
https://archive.ics.uci.edu/ml/datasets/online+retail

Place the downloaded Online Retail.xlsx file into the data/ directory.

Step 3: Run the Analysis Notebook

Launch JupyterLab:

jupyter-lab


Open the notebooks/customer_segmentation_analysis.ipynb notebook.

Run all cells from top to bottom.

This notebook will perform all data cleaning, EDA, RFM analysis, and CLV model training. Most importantly, it will create and save the clv_model.pkl and scaler.pkl files in the outputs/models/ directory.

These files are required for the Streamlit app to work.

Step 4: Launch the Streamlit Dashboard

Once the notebook has been run and the .pkl files are generated, open a new terminal window.

Make sure your virtual environment is activated.

Run the Streamlit app:

streamlit run app/streamlit_app.py


Your web browser will automatically open to the dashboard, where you can upload the Online Retail.xlsx file (or any other compatible dataset) to see the analysis live.

5. Key Project Components

A. Jupyter Notebook (.ipynb)

Data Cleaning: Handles missing CustomerIDs, removes cancelled orders, and cleans UnitPrice data.

EDA: Includes a Cohort Retention Heatmap to visualize customer loyalty over time.

RFM Analysis: Segments customers into groups like "Champions," "At Risk," and "Lost" based on Recency, Frequency, and Monetary value.

CLV Prediction:

Feature Engineering: Creates features like Tenure, AOV, and PurchaseFrequencyRate.

Model Training: Splits data into historical (9 months) and future (3 months). Trains Linear Regression, Random Forest, and XGBoost models to predict 3-month CLV.

Evaluation: Selects XGBoost as the best model (R² ≈ 0.58) and saves it.

K-Means Clustering: Provides an unsupervised alternative to RFM and compares the results.

B. Streamlit Dashboard (.py)

File Upload: Allows a user (e.g., a marketing manager) to upload their own transaction data.

Live Analysis: Re-runs the entire preprocessing and RFM segmentation pipeline on the uploaded data.

Live Prediction: Loads the pre-trained clv_model.pkl and scaler.pkl to predict the 3-month CLV for every customer in the uploaded file.

Interactive Visuals: Includes Plotly charts for segment distribution, R-F scatter plots, and customer profiles.

Customer Search: A search box to look up any CustomerID and see their full profile.


Manual Predictor: A form to manually enter customer metrics (R, F, M) and get an instant CLV prediction.
